---
title: php编码规范
mathjax: true
date: 2018-03-08 16:59:08
tags: [php,编码规范]
categories: web
---
### PSR-4
-  此处的“类”泛指所有的class类、接口、traits可复用代码块以及其它类似结构。
-  一个完整的类名需具有以下结构:
-  \<命名空间>(\<子命名空间>)*\<类名>
-  完整的类名必须要有一个顶级命名空间，被称为 "vendor namespace"；
-  完整的类名可以有一个或多个子命名空间；
-   完整的类名必须有一个最终的类名；
-   完整的类名中任意一部分中的下滑线都是没有特殊含义的；
- 完整的类名可以由任意大小写字母组成；
-  所有类名都必须是大小写敏感的。
-  当根据完整的类名载入相应的文件……
- 完整的类名中，去掉最前面的命名空间分隔符，前面连续的一个或多个命名空间和子命名空间，作为“命名空间前缀”，其必须与至少一个“文件基目录”相对应；
- 紧接命名空间前缀后的子命名空间必须与相应的”文件基目录“相匹配，其中的命名空间分隔符将作为目录分隔符。
-  末尾的类名必须与对应的以 .php 为后缀的文件同名。
- 自动加载器（autoloader）的实现一定不能抛出异常、一定不能触发任一级别的错误信息以及不应该有返回值。

### 基础规范
####  概览
-    PHP代码文件必须以 <?php 或 <?= 标签开始；
-   PHP代码文件必须以 不带BOM的 UTF-8 编码；
-    PHP代码中应该只定义类、函数、常量等声明，或其他会产生 从属效应 的操作（如：生成文件输出以及修改.ini配置文件等），二者只能选其一；
-    命名空间以及类必须符合 PSR 的自动加载规范：PSR-0 或 PSR-4 中的一个；
-   类的命名必须遵循 StudlyCaps 大写开头的驼峰命名规范；
-  类中的常量所有字母都必须大写，单词间用下划线分隔；
-   方法名称必须符合 camelCase 式的小写开头驼峰命名规范。

#### 文件
##### PHP标签
PHP代码必须使用 <?php ?> 长标签 或 <?= ?> 短输出标签； 一定不可使用其它自定义标签。
##### 字符编码
PHP代码必须且只可使用不带BOM的UTF-8编码。
##### 从属效应（副作用）
一份PHP文件中应该要不就只定义新的声明，如类、函数或常量等不产生从属效应的操作，要不就只有会产生从属效应的逻辑操作，但不该同时具有两者。

“从属效应”(side effects)一词的意思是，仅仅通过包含文件，不直接声明类、 函数和常量等，而执行的逻辑操作。

“从属效应”包含却不仅限于：生成输出、直接的 require 或 include、连接外部服务、修改 ini 配置、抛出错误或异常、修改全局或静态变量、读或写文件等。
#### 命名空间和类
命名空间以及类的命名必须遵循 PSR-0.
根据规范，每个类都独立为一个文件，且命名空间至少有一个层次：顶级的组织名称（vendor name）。

类的命名必须 遵循 StudlyCaps 大写开头的驼峰命名规范。

PHP 5.3及以后版本的代码必须使用正式的命名空间。

####  类的常量、属性和方法

此处的“类”指代所有的类、接口以及可复用代码块（traits）
##### 常量

类的常量中所有字母都必须大写，词间以下划线分隔。 参照以下代码：
##### 属性
类的属性命名可以遵循 大写开头的驼峰式 ($StudlyCaps)、小写开头的驼峰式 ($camelCase) 又或者是 下划线分隔式 ($under_score)，本规范不做强制要求，但无论遵循哪种命名方式，都应该在一定的范围内保持一致。这个范围可以是整个团队、整个包、整个类或整个方法。
##### 方法
方法名称必须符合 camelCase() 式的小写开头驼峰命名规范。